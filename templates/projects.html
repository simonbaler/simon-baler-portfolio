<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Projects — Baler Simon</title>
    <link rel="stylesheet" href="/static/css/style.css" />
  </head>
  <body class="{{ UI_MODE }}">
    <header class="hero">
      <div class="container">
        <div class="intro">
          <div class="top-row">
            <h1 id="name">{{ profile.name }}</h1>
            <div id="theme-toggle" class="theme-toggle" title="Toggle theme" aria-label="Toggle theme">
              <div class="toggle-track">
                <div class="toggle-knob" role="button" tabindex="0">
                  <svg class="icon-sun" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 4V2M12 22v-2M4 12H2M22 12h-2M5 5l-1.5-1.5M20.5 20.5L19 19M19 5l1.5-1.5M4.5 19.5L6 18" stroke="#FFD166" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                    <circle cx="12" cy="12" r="3" fill="#FFD166"/>
                  </svg>
                  <svg class="icon-moon" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" fill="#A8DADC"/>
                  </svg>
                </div>
              </div>
            </div>
          </div>
          <p class="subtitle">Computer Science Student • Web & Python Developer</p>
          <div class="contact">
            <a href="mailto:{{ profile.email }}">{{ profile.email }}</a>
            <span>•</span>
            <a href="tel:{{ profile.phone }}">{{ profile.phone }}</a>
            <span>•</span>
            <a href="{{ profile.linkedin }}" target="_blank">LinkedIn</a>
          </div>
          <div class="cta-row">
            <a class="btn primary" href="/">Home</a>
            <a class="btn ghost" href="#contact">Hire Me</a>
          </div>
        </div>
        <div class="card profile-card">
          <div class="card-inner">
            <div class="avatar"><img id="profile-pic" class="dp-thumb" src="{{ profile.picture or '/static/images/profile-photo.jpg' }}" alt="Profile" data-full="{{ profile.picture or '/static/images/profile.svg' }}"/></div>
            <h3>{{ profile.name }}</h3>
            <p>{{ profile.location }}</p>
            <div class="skills">
              {% for s in profile.skills %}
                <span class="skill">{{ s }}</span>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </header>
    <div id="hero-lottie" style="position:fixed;left:16px;top:16px;width:120px;height:120px;pointer-events:none;opacity:.9"></div>

    <main class="content">
      <section id="projects" class="section projects section--boxed">
        <div class="container">
          <div class="section-heading"><h2>My Projects</h2></div>
          <div class="nav-buttons">
            <a class="btn active" href="/projects">Projects</a>
            <a class="btn" href="/certifications">Certifications</a>
            <a class="btn" href="/snaps">Snaps</a>
            <a class="btn" href="/events">Events</a>
            <a class="btn" href="/gallery">Gallery</a>
            <a class="btn" href="/resume">Resume</a>
            <a class="btn" href="/admin">Admin</a>
          </div>
          <div class="grid cards">
            {% for project in projects %}
            <article class="card project-card glow-plate">
              <div class="project-lottie" data-lottie="{{ project.lottie }}" aria-hidden="true"></div>
              <h3>{{ project.title }}</h3>
              <p>{{ project.description }}</p>
              <div class="project-details">
                <p><strong>Languages:</strong> {{ project.languages }}</p>
                <a class="btn primary animated" href="{{ project.github or '/404' }}" rel="noopener noreferrer">View on GitHub</a>
              </div>
              {% if project.images %}
              <div class="project-images">
                {% for img in project.images %}
                <img src="{{ img.url }}" alt="{{ project.title }} image" style="max-width:100%; border-radius:8px; margin-top:0.5rem;">
                {% endfor %}
              </div>
              {% endif %}
            </article>
            {% endfor %}
          </div>
        </div>
      </section>
    </main>

    <!-- Chatbot widget -->
    <div id="chatbot" class="chatbot">
      <div class="chat-header">Ask me about my profile</div>
      <div class="chat-body" id="chat-body"></div>
      <div class="chat-controls">
        <input id="chat-input" placeholder="Ask: skills, projects, contact..." />
        <button id="chat-send" class="btn small primary">Send</button>
      </div>
    </div>

    <!-- Loading screen -->
    <div id="loading-screen" style="position:fixed;inset:0;background:linear-gradient(180deg,var(--bg1),var(--bg2));display:flex;align-items:center;justify-content:center;z-index:9999;">
      <div style="text-align:center;color:#e6eef8;">
        <div style="width:50px;height:50px;border:4px solid rgba(255,255,255,0.1);border-top:4px solid var(--accent1);border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 20px;"></div>
        <p>Loading Projects...</p>
      </div>
    </div>
    <style>@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}</style>

    <script>window.PROFILE = {{ profile | tojson }};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.10.1/lottie.min.js" integrity="sha512-+g3sM0uxsHk2qPZ9vyLk7l6E1Gp/7i5w4k8u3x21g0wQ2qK7Zx8iYgE1g8b3tYq2G7J5r3fVZlQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="/static/js/main.js"></script>
    <script src="/static/js/animations.js"></script>
    <script src="/static/js/chatbot.js"></script>
    <script>
      // Hide loading screen after load
      window.addEventListener('load', () => {
        setTimeout(() => {
          const loader = document.getElementById('loading-screen');
          if (loader) {
            loader.style.opacity = '0';
            setTimeout(() => loader.remove(), 500);
          }
        }, 1000);
      });
    </script>
    <script>
      try{
        const anim = lottie.loadAnimation({
          container: document.getElementById('hero-lottie'),
          renderer: 'svg',
          loop: true,
          autoplay: true,
          path: 'https://assets1.lottiefiles.com/packages/lf20_jcikwtux.json' // simple floating icon
        })
      }catch(e){console.warn(e)}
    </script>
    <!-- DP Modal -->
    <div id="dp-modal" class="dp-modal" aria-hidden="true">
      <div class="dp-frame">
        <button id="dp-close" class="dp-close btn small ghost">Close</button>
        <img id="dp-full" src="/static/images/profile.svg" alt="Profile full"/>
      </div>
    </div>
  </body>
</html>
